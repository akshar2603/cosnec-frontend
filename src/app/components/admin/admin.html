  
  <!-- HEADER / NAV -->
<header class="header">
  <div class="logo">🌿 COSNEC</div>
  <nav class="nav">

 


    <!-- 🔐 AUTH LINKS -->
    <a *ngIf="!loggedIn" routerLink="/register">Login</a>

    <div class="profile-wrapper" *ngIf="loggedIn" [class.open]="profileOpen">
      <button class="profile-icon" (click)="profileOpen = !profileOpen">👤</button>
      <div class="dropdown-menu" *ngIf="profileOpen">
        <a (click)="logout()">🚪 Logout</a>
      </div>
    </div>
  </nav>
</header>

  <!-- HERO SECTION -->


  <!-- BEST SELLERS -->
  <section class="best-sellers">
    <button class="create-btn" (click)="openDialog()">Create Product</button>
    <h2>Best Sellers</h2>
  

    <div class="products">
      <div class="product" *ngFor="let item of filteredProducts; let i = index">
        <img [src]="item.image" [alt]="item.name" />
      <div class="product-footer">
        <h3>{{ item.name }}</h3>
        <p>₹{{ item.price }}</p>
        <div class="action-buttons">
        <button class="update-btn" (click)="openUpdateDialog(item)">Update</button>
        <button class="delete-btn" (click)="deleteProduct(item)">Delete</button>
      </div>
        <!-- <button class="add-cart-btn" (click)="addToCart(item)">ADD TO CART</button> -->
      </div>

      </div>
    </div>
  </section>




  <!-- CREATE PRODUCT DIALOG -->
<div class="dialog-overlay" *ngIf="showDialog">
  <div class="dialog-box">
    <h2>Create Product</h2>
    <form #productForm="ngForm">
      <input type="text" placeholder="Name" [(ngModel)]="newProduct.name" name="name" required />
      <input type="text" placeholder="Brand" [(ngModel)]="newProduct.brand" name="brand" required />
      <input type="text" placeholder="Category" [(ngModel)]="newProduct.category" name="category" required />
      <input type="number" placeholder="Price" [(ngModel)]="newProduct.price" name="price" required />

      <div class="upload-field">
        <label>Upload Product Image:</label>
        <input type="file" (change)="onFileSelected($event)" />
      </div>

      <textarea placeholder="Description" [(ngModel)]="newProduct.description" name="description"></textarea>
      <input type="number" placeholder="Stock" [(ngModel)]="newProduct.stock" name="stock" />
    </form>
    <div class="dialog-actions">
      <button class="cancel-btn" (click)="closeDialog()">Cancel</button>
      <button class="save-btn" [disabled]="uploading" (click)="createProduct()">
        {{ uploading ? 'Uploading...' : 'Save' }}
      </button>
    </div>
  </div>
</div>

<!-- UPDATE PRODUCT DIALOG -->
<div class="dialog-overlay" *ngIf="showUpdateDialog">
  <div class="dialog-box">
    <h2>Update Product</h2>
    <form #updateForm="ngForm">
      <input type="text" placeholder="Name" [(ngModel)]="editProduct.name" name="name" required />
      <input type="text" placeholder="Brand" [(ngModel)]="editProduct.brand" name="brand" required />
      <input type="text" placeholder="Category" [(ngModel)]="editProduct.category" name="category" required />
      <input type="number" placeholder="Price" [(ngModel)]="editProduct.price" name="price" required />

      <div class="upload-field">
        <label>Upload Product Image:</label>
        <input type="file" (change)="onEditFileSelected($event)" />
      </div>

      <textarea placeholder="Description" [(ngModel)]="editProduct.description" name="description"></textarea>
      <input type="number" placeholder="Stock" [(ngModel)]="editProduct.stock" name="stock" />
    </form>
    <div class="dialog-actions">
      <button class="cancel-btn" (click)="closeUpdateDialog()">Cancel</button>
      <button class="save-btn" (click)="updateProductSave()">Update</button>
    </div>
  </div>
</div>

  <router-outlet></router-outlet>


